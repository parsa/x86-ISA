<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" type="text/css" href="../assets/style.css" />
<title>XCHG: Exchange Register/Memory with Register (x86 Instruction Set Reference)</title>
<link rel="icon" type="image/ico" href="favicon.ico" />
<meta name="keywords"
content="assembly,asm,programming,optimization,optimisation,c,c++,x86,pastebin,opcode,opcodes,dictionary,intel,amd,download,downloads,tutorial" />
<meta name="description"
content="x86 assembly tutorials, x86 opcode reference, programming, pastebin with syntax highlighting" />
<meta name="robots" content="index, follow" />
<script async src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body>
<div class="container"><h1 class="x86-instruction-set-reference">x86 Instruction Set Reference</h1>
<h2>XCHG - Exchange Register/Memory with Register</h2>
<object>
<table>
<tr>
<th>Opcode</th>
<th>Mnemonic</th>
<th>Description</th>
</tr>
<tr>
<td><code>90+rw</code></td>
<td><code>XCHG AX, 16</code></td>
<td>Exchange r16 with AX.</td>
</tr>
<tr>
<td><code>90+rw</code></td>
<td><code>XCHG r16, X</code></td>
<td>Exchange AX with r16.</td>
</tr>
<tr>
<td><code>90+rd</code></td>
<td><code>XCHG EAX, r32</code></td>
<td>Exchange r32 with EAX.</td>
</tr>
<tr>
<td><code>90+rd</code></td>
<td><code>XCHG r32, EAX</code></td>
<td>Exchange EAX with r32.</td>
</tr>
<tr>
<td><code>86 /r</code></td>
<td><code>XCHG r/m8, r8</code></td>
<td>Exchange r8 (byte register) with byte from r/m8.</td>
</tr>
<tr>
<td><code>86 /r</code></td>
<td><code>XCHG r8, r/m8</code></td>
<td>Exchange byte from r/m8 with r8 (byte register).</td>
</tr>
<tr>
<td><code>87 /r</code></td>
<td><code>XCHG r/m16, r16</code></td>
<td>Exchange r16 with word from r/m16.</td>
</tr>
<tr>
<td><code>87 /r</code></td>
<td><code>XCHG r16, r/m16</code></td>
<td>Exchange word from r/m16 with r16.</td>
</tr>
<tr>
<td><code>87 /r</code></td>
<td><code>XCHG r/m32, r32</code></td>
<td>Exchange r32 with doubleword from r/m32.</td>
</tr>
<tr>
<td><code>87 /r</code></td>
<td><code>XCHG r32, r/m32</code></td>
<td>Exchange doubleword from r/m32 with r32.</td>
</tr>
</table>
</object>
<object>
<table>
<tr>
<th>Description</th>
</tr>
<tr>
<td>
<p>Exchanges the contents of the destination (first) and source (second) operands. The operands can be two general-purpose registers or a register and a memory location. If a memory operand is referenced, the processor's locking protocol is automatically implemented for the duration of the exchange operation, regardless of the presence or absence of the LOCK prefix or of the value of the IOPL. (See the LOCK prefix description in this chapter for more information on the locking protocol.) This instruction is useful for implementing semaphores or similar data structures for process synchronization. (See &quot;Bus Locking&quot; in Chapter 7 of the IA-32 Intel Architecture Software Developer's Manual, Volume 3, for more information on bus locking.) The XCHG instruction can also be used instead of the BSWAP instruction for 16-bit operands.</p>
</td>
</tr>
</table>
</object>
<object>
<table>
<tr>
<th>Operation</th>
</tr>
<tr>
<td>
<pre class="prettyprint">Temporary = Destination;
Destination = Source;
Source = Temporary;
</pre>
</td>
</tr>
</table>
</object>
<object>
<table>
<tr>
<th>Flags affected</th>
</tr>
<tr>
<td>
<p>None.
</p>
</td>
</tr>
</table>
</object>
<object>
<table>
<tr>
<th>Instruction</th>
<th>Latency</th>
<th>Throughput</th>
<th>Execution Unit</th>
</tr>
<tr><td><code>CPUID</code></td><td>0F3n/0F2n</td><td>0F3n/0F2n</td><td>0F2n</td></tr>
<tr><td><code>XCHG</code></td><td>1.5/1.5</td><td>1/1</td><td>ALU</td></tr>
</table>
</object>
</div>
</body>
</html>
